<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="formulario-crud.html">

<dom-module id="index-view">
  <template>
    <style>
      .btn-edit{
        background-color: #007bff;
        border:0px;
        padding:7px;
        margin:10px;
        width:100px;
        border-radius:10px;
      }
      .btn-delete{
        background-color: #acacac;
        border:0px;
        padding:7px;
        margin:10px;
        width:100px;
        border-radius:10px;
        float:right;
      }
      .btn-edit:hover{
        background-color:;
        outline:none;
        cursor:pointer;
      }
      .btn-delete:hover{
        background-color:#dc3545;
        outline:none;
        cursor:pointer;
      }
      .card{
        box-shadow: 0 4px 8px 0 #000000;
        transition: 0.3s;
        width:300px;
        margin:10px;
        border-radius:10px;
        background-color:white;

      }
      .card-img-top{
        width:250px;
        display:block;
        margin: auto;
        padding:10px;

      }
      .card-body{
        margin:10px;
      }
      .card-title{
        text-align:center;
        font-family: sans-serif;
      }
      .column {
        float: left;
        width: 310px;
        padding: 0 10px;
      }

    </style>

    <dom-repeat items="{{lista}}">
    <template>
      <div class="column">
        <div class="card">
          <img src="../imgs/img_distros.jpg" class="card-img-top" alt="100%">
          <div class="card-body">
            <h3 class="card-title">{{item.nombre}}</h3>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
            <button type="button" on-click="editData" data-item$="[[item.id]]" class="btn-edit">Editar</button>
            <button type="button" on-click="deleteData" data-item$="[[item.id]]"  class="btn-delete">Eliminar</button>
          </div>
        </div>
      </div>

    </template>
    </dom-repeat>

    <div id="contentmodal">

    </div>


  </template>

  <script>
    /**
     * `index-view`
     *
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class IndexView extends Polymer.Element {
      static get is() { return 'index-view'; }
      static get properties() {
        return {
          lista: {
            type: Array,
            value: [
                  {
                     "id":1,"nombre":"Jose Carlos", "telefono":"24234344256","correo":"correo@softtek.com"
                  },
                  {
                    "id":2,"nombre":"Roberto", "telefono":"23345689","correo":"correo@softtek.com"
                  },
                  {
                    "id":3,"nombre":"Pedro", "telefono":"23345689","correo":"correo@softtek.com"
                  },
                  {
                    "id":4,"nombre":"Rodrigo", "telefono":"23345689","correo":"correo@softtek.com"
                  },
                  {
                    "id":5,"nombre":"Alberto", "telefono":"23345689","correo":"correo@softtek.com"
                  }

            ]
          }
        };
      }
      deleteData(data){
        //se recupera el id del registro seleccionado
        console.log(data.target.dataset.item);
      }
      editData(data){
        console.log(data.target.dataset.item);
        this.$.contentmodal.innerHTML=`
          <formulario-crud disparador=true><formulario-crud>
        `
      }
    }

    window.customElements.define(IndexView.is, IndexView);
  </script>
</dom-module>
